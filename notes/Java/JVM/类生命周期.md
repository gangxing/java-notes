https://www.cnblogs.com/javaee6/p/3714716.html

一个类何时被加载，怎么加载，加载的类存放于何处，何时被卸载

主动加载 被动加载



Java字节码转换为Java类的过程

**加载**

利用类加载器获取字节流（class文件内容）

**链接**

将创建成的类合并到Java虚拟机中，使之能够执行的过程，包括以下三步

1. 验证

   class文件字节码符合JVM的约束条件（格式？）

2. 准备

   为被加载类的静态字段分配内存

3. 解析

   将编译器生成一个包含目标方法所在的类名，目标方法名，接收参数类型以及返回值类型的符号引用解析成为实际引用。

**初始化**

1. 为常量字段赋值
2. 执行`<client>`方法

类初始化时机：

1. 当虚拟机启动时，初始化用户指定的入口类
2. 当new一个对象时，初始化new指令的目标类
3. 调用静态方法指令时，初始化该静态方法所在的类
4. 访问静态字段时，初始化该静态字段所在的类
5. 初始化子类时先初始化其父类
6. 如果一个接口定义了default方法，直接或间接实现该接口的类被初始化时先初始化该接口
7. 反射调用某个类时，初始化该类
8. 调用MethodHandle实例时，初始化该MethodHandle实例指向的方法所在的类。

> 通过`java -verbose:class XXX` 可以得到当前JVM所有类从哪里加载来的
>
> 实现相同效果还有另外一种方式`java -XX:+TraceClassLoading XXX`

